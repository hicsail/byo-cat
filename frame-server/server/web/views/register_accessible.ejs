<%- include('./layout', {title: title, favicon: favicon}); %>
<body>
<header role="banner">
  <%- include('./partials/navbar_accessible', {configUrl: configUrl, logoname: logoname}); %>
</header>

<!-- begin Main -->
<main role="main" aria-label="main section" id="main-content">
  <div class="container bottomMargin50" role="header and benefits">
    <section id="page-title">
      <div class="row">
        <div class="col-md-12">
          <h3><%= gettext("Please sign up for a new account") %></h3>
        </div>
      </div>
    </section>
  </div>

  <form class="container bottomMargin50" id="form1" action="#" data-validationgroup>
    <div class="row">
      <div class="col-xs-12 col-sm-4">
        <div class="form-group required">
          <label for="firstName"><%= gettext("First Name") %> <sup>*</sup> </label>
          <input id="firstName" class="form-control required " maxlength="64"
                 data-validate="notBlank firstName"
                 placeholder="<%= gettext('First Name') %>" size="20" type="text">
        </div>
        <div class="form-group required">
          <label for="lastName"><%= gettext("Last Name") %> <sup>*</sup> </label>
          <input id="lastName" data-validate="notBlank lastName" class="form-control required" maxlength="64"
                 placeholder="<%= gettext('Last Name') %>" size="20" type="text">

        </div>
        <div class="form-group required">
          <label for="email"><%= gettext("Email (username)") %> <sup>*</sup></label>
          <input id="email" data-validate="notBlank email" class="form-control required" maxlength="80"
                 placeholder="<%= gettext('Email') %>" size="20" type="text">
        </div>
        <div class="form-group required">
          <label for="password"><%= gettext("Password") %> <sup>*</sup></label>
          <input id="password" class="form-control required"
                 data-validate="notBlank validPassword"
                 type="password"
                 placeholder="<%= gettext('Type Password') %>" size="20">
          <ul>
            <li id="passReq1"><%= gettext("Lowercase") %></li>
            <li id="passReq2"><%= gettext("Uppercase") %></li>
            <li id="passReq3"><%= gettext("Numbers") %></li>
            <li id="passReq4"><%= gettext("Special Characters") %></li>
            <li id="passReq5"><%= gettext("Length >= 10") %></li>
          </ul>
        </div>

      </div>
      <div class="col-xs-12 col-sm-4">
        <div class="form-group ">
          <label for="middleName"><%= gettext("Middle Name (optional)") %></label>
          <input id="middleName" class="form-control" maxlength="64"
                 data-validate="middleName"
                 placeholder="<%= gettext('Middle Name') %>" size="20" type="text">
        </div>


        <div class="form-group required">
          <label for="gender"><%= gettext("Gender") %> <sup>*</sup> </label>
          <div class="wrapper">
              <span><select id="gender" data-validate="notBlank gender" class="custom-dropdown">
                  <option value="null"><%= gettext("Select") %></option>
                  <option value="male"><%= gettext("Male") %></option>
                  <option value="female"><%= gettext("Female") %></option>
                </select></span>
          </div>

          <div class="form-group required">
            <label for="confpass"><%= gettext("Confirm Password") %> <sup>*</sup></label>
            <input id="confpass" class="form-control"
                   data-validate="notBlank confirmPass"
                   type="password"
                   placeholder="<%= gettext('Retype password') %>" size="20">
                   <script>$("#confpass").attr("placeholder", "<%= gettext('Retype password') %>");</script>
          </div>

          <div class="form-group required">
            <label for="yearOfInjury"><%= gettext("Year Of Injury") %> <sup>*</sup> </label>
            <input class="form-control" type="text" id="yearOfInjury" name="Year Of Injury" value=""
                   placeholder="<%= gettext('YYYY') %>" aria-describedby="dateInfo" data-validate="notBlank injuryYear"/>
          </div>

        </div>
      </div>
    </div>
    <div>
      <label for="comments"><%= gettext("Comments (optional)") %>" </label>
      <textarea id="comments" class="form-control" maxlength="255" placeholder="<%= gettext('Special Instructions') %>" type="text"
                wrap="soft"></textarea>
      <script>$("#comments").attr("placeholder", "<%= gettext('Special Instructions') %>");</script>
    </div>
    <div class="form-group required vertical-center-container">
      <input id="tncCheckbox" class="form-control required" type="checkbox" disabled="true" data-validate="tncChecked required" data-toggle="tooltip" data-placement="bottom" title="Please read through our Terms and Conditions and accept">
      <a id="tncModalLink" href="#" data-toggle="modal" data-target="#tncModal"><%= gettext("Terms and Conditions") %></a> <sup>*</sup>
    </div>
    <div class="form-group vertical-center-container">
      <input id="clinicianCheckbox" class="form-control required" type="checkbox">
      <%= gettext("Register as Clinician") %>
    </div>
    <button id="form1Sbm" data-validationtrigger class="btn btn-primary"><%= gettext("Sign Up") %></button>
  </form>

  <div class="modal fade" id="tncModal" tabindex="-1" role="dialog" aria-labelledby="Terms and Conditions Modal">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="tncModalLabel"><%= gettext("Terms and Conditions") %></h4>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal"><%= gettext("Do Not Accept") %></button>
          <button type="button" class="btn btn-success disabled"><%= gettext("Accept") %></button>
        </div>
      </div>
    </div>
  </div>
</main>

<a href="#" class="scrollToTop" alt="Scroll To Top"><span class="sr-only"><%= gettext("Scroll To Top") %></span></a>
<%- include('./partials/footer_accessible'); %>
<!-- end footer -->

<script src="/public/js/tncText.js"></script>

<script>
  $(document).ready(function(){
    $("#form1Sbm").click(function(){
      submitHandler("<%= configUrl %>");
    });
    var modalBody = $("#tncModal .modal-body");
    modalBody.text(tncText);
    modalBody.scroll(function() {
      if (modalBody.scrollTop() >= ($('#tncModal .modal-body').prop('scrollHeight') - $('#tncModal .modal-body').innerHeight())) {
        $("#tncModal .btn-success").removeClass('disabled');
      } else {
        $("#tncModal .btn-success").addClass('disabled');
      }
    });
    $('#password').blur(checkPasswordRequirements);
    $("#tncModal .btn-success").click(function(){
      if (!$("#tncModal .btn-success").hasClass('disabled')) {
        $('#tncCheckbox').prop('checked', true);
        $("#tncModal .close").click();
      }
    });
    $("#tncModal .btn-danger").click(function(){
      $('#tncCheckbox').prop('checked', false);
    });
  });
  $(window).resize(function(){
    if (!modalBody) return;
    modalBody.scroll(function() {
      if (modalBody.scrollTop() >= ($('#tncModal .modal-body').prop('scrollHeight') - $('#tncModal .modal-body').innerHeight())) {
        $("#tncModal .btn-success").removeClass('disabled');
      } else {
        $("#tncModal .btn-success").addClass('disabled');
      }
    });
  });
</script>

<!-- JAVASCRIPT FILES -->
<!-- FORM VALIDATION -->
<%- include('./partials/formvalidator', {}); %>
</body>
</html>
